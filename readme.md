# CXS (check xml schema)  
# Подготовка (исправление) XML схем

## Задача
Иногда, XML схемы не соответствуют стандарту [w3.org](https://www.w3schools.com/xml/schema_elements_ref.asp) и это грустно :-(  
Данный скрипт исправляет следующие ошибки:

1. У открывающих и закрывающих тегов узлов схемы устанавливается префикс пространства имен w3.org, объявленный в заголовке схемы
2. Наименования узлов схемы регистрозависимые, поэтому они устанавливаются по словарю в соответствии с пространством имен w3.org

Пример:  

```xsd
<!-- было -->
<simpletype>
    <restriction base="cml:НаименованиеТип"></restriction>
</simpletype>
```
```xsd
<!-- стало -->
<xsd:simpleType>
    <xsd:restriction base="cml:НаименованиеТип"></xsd:restriction>
</xsd:simpleType>
```
## Зависимости
Скрипт разработан в среде __OScript 1.3.0__ Тестирование на более ранних версиях интерпретатора не проводилось.

Требуется библиотека [cmdline](https://github.com/oscript-library/cmdline) Установите библиотеку через пакетный менеджер OScript: `opm install cmdline` Устанавливайте библиотеку в окне CMD, которое запущено от имени администратора.

## Параметры
-path <полный путь к схеме> - полный путь, включающий имя файла обрабатываемой XML схемы

## Результат
Скрипт получает префикс пространства имен w3.org из атрибута `xmlns:xsd="http://www.w3.org/2001/XMLSchema"` заголовка XML схемы

Скрипт по узлу `<xsd:schema` определяет необходимость устанавливать префикс в тегах

Скрипт, если нужно устанавливает префикс пространства имен w3.org в открывающих и закрывающих тегах XML схемы

Скрипт по словарю меняет наименования элементов, в которых используется camelCase стиль, пример `simpleType`

Скрипт не меняет исходный файл, а создает новый файл XML схемы с суффиксом `_modify`

## Примеры использования
`oscript cxs.os -path d:\tmp\CommerceML2-10.xsd`  
где `d:\tmp\CommerceML2-10.xsd` - путь к файлу, который нужно обработать